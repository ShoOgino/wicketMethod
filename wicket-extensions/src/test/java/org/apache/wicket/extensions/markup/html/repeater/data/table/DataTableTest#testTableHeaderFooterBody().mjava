	/**
	 * Tests that DataTable doesn't produce thead/tfoot if there are no top/bottom toolbars or if
	 * their children components are all invisible.
	 * 
	 * WICKET-3603 and WICKET-4153
	 */
	public void testTableHeaderFooterBody()
	{
		PageParameters parameters = new PageParameters();
		parameters.add("empty", Boolean.TRUE);
		tester.startPage(TableHeadFooterBodyPage.class, parameters);
		System.err.println(tester.getLastResponseAsString());
		Assert.assertTrue(tester.getLastResponseAsString().contains("thead"));
		Assert.assertTrue(tester.getLastResponseAsString().contains("tfoot"));
		Assert.assertFalse(tester.getLastResponseAsString().contains("tbody"));

		parameters.set("empty", Boolean.FALSE);
		tester.startPage(TableHeadFooterBodyPage.class);
		System.err.println(tester.getLastResponseAsString());
		Assert.assertFalse(tester.getLastResponseAsString().contains("thead"));
		Assert.assertFalse(tester.getLastResponseAsString().contains("tfoot"));
		Assert.assertTrue(tester.getLastResponseAsString().contains("tbody"));
	}

