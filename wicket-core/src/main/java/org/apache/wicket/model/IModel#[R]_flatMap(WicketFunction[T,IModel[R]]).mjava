	/**
	 * Returns a IModel applying the given mapper to the contained
	 * object, if it is not NULL.
	 *
	 * @param <R> the new type of the contained object
	 * @param mapper a mapper, to be applied to the contained object
	 * @return a new IModel
	 */
	default <R> IModel<R> flatMap(WicketFunction<T, IModel<R>> mapper) {
		return (IModel<R>) () -> {
			T object = IModel.this.getObject();
			if (object == null) {
				return null;
			}
			else {
				return mapper.apply(object).getObject();
			}
		};
	}

