	/**
	 * THIS METHOD IS NOT PART OF THE WICKET PUBLIC API. DO NOT USE IT.
	 * 
	 * Temporarily replaces the response with a StringResponse to capture the header output for this
	 * part of the stream and pass it to {@link IHeaderResponse}.
	 * 
	 * @see org.apache.wicket.MarkupContainer#renderNext(org.apache.wicket.markup.MarkupStream)
	 */
	@Override
	protected final boolean renderNext(MarkupStream markupStream)
	{
		StringResponse markupHeaderResponse = new StringResponse();
		Response oldResponse = getResponse();
		RequestCycle.get().setResponse(markupHeaderResponse);
		try
		{
			boolean ret = super.renderNext(markupStream);
			getHeaderResponse().render(StringHeaderItem.forString(markupHeaderResponse.getBuffer()));
			return ret;
		}
		finally
		{
			RequestCycle.get().setResponse(oldResponse);
		}
	}

