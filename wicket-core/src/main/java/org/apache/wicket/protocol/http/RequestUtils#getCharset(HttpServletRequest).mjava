	/**
	 * @param request
	 *      the http servlet request to extract the charset from
	 * @return the request's charset
	 */
	public static Charset getCharset(HttpServletRequest request)
	{
		Charset charset = null;
		if (request != null)
		{
			String charsetName = request.getCharacterEncoding();
			charset = Charset.forName(charsetName);
		}
		if (charset == null)
		{
			charset = getDefaultCharset();
		}
		return charset;
	}

