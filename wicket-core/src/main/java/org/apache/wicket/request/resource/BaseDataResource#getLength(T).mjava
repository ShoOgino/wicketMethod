	/**
	 * @param data
	 *              The data to be written
	 * @return The length of the data to be written. Used to set "Content-Length" response header
	 */
	protected abstract Long getLength(T data);

