		/**
		 * 
		 * @param s
		 * @throws IOException
		 */
		private void writeObject(final ObjectOutputStream s) throws IOException
		{
			s.defaultWriteObject();

			// prepare for serialization and store the pages
			List<Serializable> l = new ArrayList<Serializable>();
			for (IManageablePage p : pages)
			{
				Serializable preparedPage = getPageStore().prepareForSerialization(sessionId, p);
				if (preparedPage != null)
				{
					l.add(preparedPage);
				}
			}
			s.writeObject(l);
		}

