	/**
	 * Verifies that the home page can be reached with non-encrypted query parameters.
	 * https://issues.apache.org/jira/browse/WICKET-4345
	 */
	@Test
	public void decryptHomePageWithNonEncryptedQueryParameters()
	{
		Request request = getRequest(Url.parse("?named1=value1"));
		IRequestHandler requestHandler = mapper.mapRequest(request);
		assertThat(requestHandler, instanceOf(RequestSettingRequestHandler.class));
		requestHandler = ((RequestSettingRequestHandler)requestHandler).getDelegateHandler();
		assertThat(requestHandler, instanceOf(RenderPageRequestHandler.class));

		RenderPageRequestHandler handler = (RenderPageRequestHandler)requestHandler;
		assertEquals(tester.getApplication().getHomePage(), handler.getPageClass());
		StringValue queryParam = handler.getPageParameters().get("named1");
		assertEquals("value1", queryParam.toOptionalString());
	}

