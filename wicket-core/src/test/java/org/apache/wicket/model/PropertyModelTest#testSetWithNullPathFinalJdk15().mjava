	/**
	 * Tests setting a value on a {@link PropertyModel} when a final (constant!) property is
	 * <code>null</code> and a concrete type. This should end in an exception because Wicket can't
	 * assign to the property, since it is final.
	 * 
	 * This test has been disabled as it doesn't work on Mac OS X's 1.4 jdk (assignment doesn't
	 * fail).
	 */
// public void testSetWithNullPathFinalJdk14()
// {
// Person person = new Person();
// PropertyModel model = new PropertyModel(person, "finalAddress.street");
//
// try
// {
// model.setObject("foo");
// fail("Expected exception");
// }
// catch (WicketRuntimeException wre)
// {
// // ok!
// }
// }
	/**
	 * Tests setting a value on a null, final property using a {@link PropertyModel}. This test
	 * should pass when run using JDK 1.5 or newer.
	 */
	public void testSetWithNullPathFinalJdk15()
	{
		Person person = new Person();
		PropertyModel<String> model = new PropertyModel<String>(person, "finalAddress.street");

		model.setObject("foo");
		assertNotNull("finalAddress", person.finalAddress);
		assertTrue(person.finalAddress instanceof ConcreteAddress);
		assertEquals("foo", person.finalAddress.street);
	}

