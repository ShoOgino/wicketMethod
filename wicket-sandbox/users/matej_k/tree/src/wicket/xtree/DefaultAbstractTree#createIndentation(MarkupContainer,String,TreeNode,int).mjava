	/**
	 * Creates the indentation element. This element should be placed as first element in the tree item markup to
	 * ensure proper indentaion of the tree item. This implementation also takes care of lines that connect nodes. 
	 */
	protected MarkupContainer createIndentation(MarkupContainer parent, String id, final TreeNode node, final int level) 
	{
		WebMarkupContainer result = new WebMarkupContainer(parent, id) {
			@Override
			protected void onComponentTagBody(MarkupStream markupStream, ComponentTag openTag) {
				Response response = RequestCycle.get().getResponse();
				TreeNode parent = node.getParent();
				
				CharSequence urls[] = new CharSequence[level];				
				for (int i = 0; i < level; ++i) 
				{
					if (isNodeLast(parent))
						urls[i] = "indent-blank";
					else
						urls[i] = "indent-line"; 
					
					parent = parent.getParent();
				}
				
				for (int i = level - 1; i >= 0; --i)
				{
					response.write("<span class=\""+urls[i]+"\"></span>");

				}
			}
		};
		result.setRenderBodyOnly(true);
		return result;
	}

