	public void setModel(final Object model)
	{
		try
		{
			final URL url = new URL(getDocumentBase() + getParameter("setModelUrl"));

			// Create a boundary string
			final String boundary = MultiPartFormOutputStream.createBoundary();
			URLConnection connection = MultiPartFormOutputStream.createConnection(url);
			connection.setRequestProperty("Accept", "*/*");
			connection.setRequestProperty("Content-Type", MultiPartFormOutputStream
					.getContentType(boundary));

			// Set some other request headers...
			connection.setRequestProperty("Connection", "Keep-Alive");
			connection.setRequestProperty("Cache-Control", "no-cache");

			// Upload a file
			final MultiPartFormOutputStream out = new MultiPartFormOutputStream(connection
					.getOutputStream(), boundary);
			try
			{
				out.writeFile("model", "application/x-wicket-model", "model", Objects2
						.objectToByteArray(model));
			}
			finally
			{
				out.close();
			}

			// Read response from server
			final BufferedReader in = new BufferedReader(new InputStreamReader(connection
					.getInputStream()));
			try
			{
				String line = "";
				while ((line = in.readLine()) != null)
				{
					System.out.println(line);
				}
			}
			finally
			{
				in.close();
			}
		}
		catch (Exception e)
		{
			System.out.println("** Unable to set model.");
			e.printStackTrace();
		}
	}

