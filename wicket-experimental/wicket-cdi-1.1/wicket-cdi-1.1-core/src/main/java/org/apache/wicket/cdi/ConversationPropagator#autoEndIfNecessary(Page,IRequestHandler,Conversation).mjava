	protected void autoEndIfNecessary(Page page, IRequestHandler handler, Conversation conversation)
	{
		if (!auto.get() || conversation == null || conversation.isTransient() || page == null ||
			!propagationSource.get().propagatesViaPage(page, handler) || hasConversationalComponent(page))
		{
			return;
		}

		// auto de-activate conversation

		String cid = conversation.getId();

		conversation.end();

		logger.debug("Auto-ended conversation {} for page {}", cid, page);
	}

