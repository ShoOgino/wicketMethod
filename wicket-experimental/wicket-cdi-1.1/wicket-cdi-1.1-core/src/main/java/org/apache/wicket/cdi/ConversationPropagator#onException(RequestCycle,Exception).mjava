	@Override
	public IRequestHandler onException(RequestCycle cycle, Exception ex)
	{
		// if we are handling a stale page exception then use its conversation since we are most
		// likely about to rerender it.

		if (ex instanceof StalePageException)
		{
			IRequestablePage requestable = ((StalePageException)ex).getPage();
			if (requestable instanceof Page)
			{
				String cid = containerSource.get().getConversationMarker((Page)requestable);
				if (cid != null)
				{
					try
					{
						activateConversationIfNeeded(cycle, null, cid);
						return null;
					}
					catch (ConversationExpiredException e)
					{
						// ignore, we will start a new one below
					}
				}
			}
		}

		activateConversationIfNeeded(cycle, null, null);
		return null;
	}

