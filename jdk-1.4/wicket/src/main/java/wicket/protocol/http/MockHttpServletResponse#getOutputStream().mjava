	/**
	 * Get the output stream for writing binary data from the servlet.
	 *
	 * @return The binary output stream.
	 * @throws IOException
	 *             If stream not available
	 */
	public ServletOutputStream getOutputStream() throws IOException
	{
		if (mode == MODE_TEXT)
		{
			throw new IllegalArgumentException("Can't write binary after already selecting text");
		}
		mode = MODE_BINARY;
		return servletStream;
	}

