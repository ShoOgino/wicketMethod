	/**
	 * Builds and processes a request suitable for executing an ajax behavior.
	 * 
	 * @param behavior
	 *            the ajax behavior to execute
	 */
	public void executeBehavior(final AbstractAjaxBehavior behavior)
	{
		// setupRequestAndResponse();
		WebRequestCycle cycle = createRequestCycle();
		CharSequence url = behavior.getCallbackUrl(false);
		setupRequestAndResponse();
		cycle = createRequestCycle();
		getServletRequest().setRequestToRedirectString(url.toString());
		processRequestCycle(cycle);
	}

