	/**
	 * @see org.apache.wicket.markup.repeater.IItemReuseStrategy#getItems(IItemFactory,
	 *      java.util.Iterator, java.util.Iterator)
	 */
	public Iterator getItems(final IItemFactory factory, final Iterator newModels,
			final Iterator existingItems)
	{
		return new Iterator()
		{
			private int index = 0;

			public void remove()
			{
				throw new UnsupportedOperationException();
			}

			public boolean hasNext()
			{
				return newModels.hasNext();
			}

			public Object next()
			{
				Object next = newModels.next();
				if (next != null && !(next instanceof IModel))
				{
					throw new WicketRuntimeException("Expecting an instance of " +
							IModel.class.getName() + ", got " + next.getClass().getName());
				}
				final IModel model = (IModel)next;

				Item item = factory.newItem(index, model);
				index++;

				return item;
			}

		};
	}

