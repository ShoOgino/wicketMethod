	/**
	 * If the type is not set try to guess it if the model supports it.
	 * @see org.apache.wicket.Component#onBeforeRender()
	 */
	protected void onBeforeRender()
	{
		super.onBeforeRender();
		if (getType() == null)
		{
			// Set the type, but only if it's not a String (see WICKET-606).
			// Otherwise, getConvertEmptyInputStringToNull() won't work.
			Class type = getModelType(getModel());
			if (String.class.equals(type))
			{
				setType(type);
			}
		}
	}

