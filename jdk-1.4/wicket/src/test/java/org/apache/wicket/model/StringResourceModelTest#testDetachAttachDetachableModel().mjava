	/**
	 * @throws Exception
	 */
	public void testDetachAttachDetachableModel() throws Exception
	{
		IModel wsDetachModel = new LoadableDetachableModel()
		{
			private static final long serialVersionUID = 1L;

			private transient WeatherStation station;

			protected Object load()
			{
				return new WeatherStation();
			}


		};
		StringResourceModel model = new StringResourceModel("simple.text", page, wsDetachModel);
		application.setupRequestAndResponse();
		RequestCycle cycle = new WebRequestCycle(application.getWicketSession(),
				application.getWicketRequest(), application.getWicketResponse());
		model.getObject();
		Assert.assertNotNull(model.getLocalizer());
		model.detach();
		// Removed this because getObject() will reattach now...
		Assert.assertNull(model.getLocalizer());
	}

