	/**
	 * Test for checking if changing the session's locale to another language actually causes the
	 * feedback messages to be altered as well. Testcase for WICKET-891.
	 */
	public void testWICKET_891()
	{
		tester.getSession().setLocale(new Locale("nl"));

		LocalizedMessagePage page = new LocalizedMessagePage();
		tester.startPage(page);

		tester.getRequest().getPostRequestParameters().setParameterValue(
			page.integerField.getInputName(), "foo");
		tester.submitForm(page.form);

		tester.assertErrorMessages(new String[] { "'foo' in veld 'integer' moet een geheel getal zijn. " });
		tester.getSession().setLocale(new Locale("us"));

		tester.getSession().cleanupFeedbackMessages();

		page = new LocalizedMessagePage();
		tester.startPage(page);

		tester.getRequest().getPostRequestParameters().setParameterValue(
			page.integerField.getInputName(), "foo");

		tester.submitForm(page.form);

		tester.assertErrorMessages(new String[] { "'foo' is not a valid Integer." });
	}

