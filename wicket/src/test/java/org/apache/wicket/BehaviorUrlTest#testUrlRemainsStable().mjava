	/**
	 * @see https://issues.apache.org/jira/browse/WICKET-3097
	 */
	public void testUrlRemainsStable()
	{
		WicketTester tester = new WicketTester();

		TestPage page = new TestPage();

		int indexBeforeRender = page.container.getBehaviorsRawList().indexOf(page.callbackBehavior);

		tester.startPage(page);

		page = (TestPage)tester.getLastRenderedPage();
		int indexAfterRender = page.container.getBehaviorsRawList().indexOf(page.callbackBehavior);

		assertEquals("index of behavior in the raw list should not have changed",
			indexBeforeRender, indexAfterRender);

	}

