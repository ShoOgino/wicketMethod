	/**
	 * Toggle submit button to enabled when text field validates.
	 */
	public void testToggleAjaxFormButton()
	{
		tester.startPage(new MockAjaxFormPage());
		Button submit = getSubmitButton();
		assertFalse(submit.isEnabled());
		FormTester form = tester.newFormTester("form");

		tester.setupRequestAndResponse(true);
		form.setValue("text", "XX");
		setTextFieldAndAssertSubmit(false);
		Session.get().cleanupFeedbackMessages();

		tester.setupRequestAndResponse(true);
		form.setValue("text", "XXXYYYXXX");
		setTextFieldAndAssertSubmit(true);

		tester.setupRequestAndResponse(true);
		form.setValue("text", "");
		setTextFieldAndAssertSubmit(false);
	}

