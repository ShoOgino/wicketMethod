	/**
	 * 
	 */
	public void testClickLink()
	{
		tester.setupRequestAndResponse();
		tester.processRequestCycle();
		MockLoginPage loginPage = (MockLoginPage)tester.getLastRenderedPage();
		assertEquals(application.getLoginPage(), loginPage.getClass());

		tester.setupRequestAndResponse();
		tester.getServletRequest().setRequestToComponent(loginPage.getForm());
		tester.getServletRequest().setParameter(loginPage.getTextField().getInputName(),
				"admin");
		tester.processRequestCycle();

		// continueToInterceptPage seems to return the same call, causing it to
		// login twice as a result the lastrendered page is null
		assertEquals(application.getHomePage(), tester.getLastRenderedPage().getClass());

		tester.setupRequestAndResponse();
		tester.getServletRequest().setRequestToComponent(
				tester.getLastRenderedPage().get("link"));
		tester.processRequestCycle();
		assertEquals(PageA.class, tester.getLastRenderedPage().getClass());
	}

