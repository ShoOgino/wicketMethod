	/**
	 * 
	 * @throws Exception
	 */
	public void testPage() throws Exception
	{
		tester = new WicketTester(Page1.class);
		tester.getApplication().mount(new IndexedParamUrlCodingStrategy("/page2", Page2.class));

		executeTest(Page1.class, "IndexedParamTest_ExpectedResult-1.html");

		// Click the autolink
		tester.setupRequestAndResponse();
		WebRequestCycle cycle = tester.createRequestCycle();
		((MockHttpServletRequest)tester.getWicketRequest().getHttpServletRequest()).setURL("/WicketTester$1/WicketTester$1/page2/abc");
		tester.processRequestCycle(cycle);
		
		assertEquals(Page2.class, tester.getLastRenderedPage().getClass());

		// Validate the document
		String document = tester.getServletResponse().getDocument();
		DiffUtil.validatePage(document, this.getClass(), "IndexedParamTest_ExpectedResult-2.html",true);
	}

