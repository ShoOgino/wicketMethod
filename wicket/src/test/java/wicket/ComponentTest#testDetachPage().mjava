	/**
	 * Tests the number of detach calls on a Page, Component, Behavior and Model
	 * during a normal request.
	 * 
	 * @throws Exception
	 */
	public void testDetachPage() throws Exception
	{
		executeTest(TestDetachPage.class, "TestDetachPageExpectedResult.html");
		TestDetachPage page = (TestDetachPage)tester.getLastRenderedPage();
		assertEquals(1, page.getNrComponentDetachModelCalls());
		assertEquals(1, page.getNrComponentDetachModelsCalls());
		assertEquals(1, page.getNrComponentInternalDetachCalls());
		assertEquals(1, page.getNrComponentOnDetachCalls());
		assertEquals(1, page.getNrPageDetachModelCalls());
		assertEquals(1, page.getNrPageDetachModelsCalls());
		assertEquals(1, page.getNrPageInternalDetachCalls());
		assertEquals(1, page.getNrPageOnDetachCalls());
		assertEquals(1, page.getNrModelDetachCalls());
		assertEquals(1, page.getNrAjaxBehaviorDetachModelCalls());
	}

