    /**
     * Reads and parses markup from a file.
     * @param resource The file
     * @return The markup
     * @throws ParseException
     * @throws IOException
     * @throws ResourceNotFoundException
     */
    public Markup readAndParse(final IResource resource) throws ParseException, IOException,
            ResourceNotFoundException
    {
        xmlParser.parse(resource);
        return new Markup(resource, parseMarkup(), getXmlDeclaration(), getEncoding());
    }

