    /**
     * Called when a link is clicked.
     * @see ILinkListener
     * @param cycle The cycle object
     */
    public void linkClicked(final RequestCycle cycle)
    {
        String linkId = ((HttpRequest) cycle.getRequest()).getParameter("linkId");
        TreeNodeLink link = (TreeNodeLink) links.get(linkId);

        if (link == null)
        {
            throw new IllegalStateException("link " + linkId + " not found");
        }

        link.linkClicked(cycle);
    }

