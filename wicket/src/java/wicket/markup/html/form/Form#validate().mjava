	/**
	 * Validates the form and updates the models of form components. If the form
	 * validates successfully, handleValidSubmit() is called. If not,
	 * handleErrors() is called.
	 * 
	 * @return True if the form validated
	 * 
	 * @see Form#onSubmit()
	 * @see Form#onError()
	 */
	protected final boolean validate()
	{
		// Redirect back to result to avoid postback warnings. But we turn
		// redirecting on as the first thing because the user's handleSubmit
		// implementation may wish to redirect somewhere else. In that case,
		// they can simply call setRedirect(false) in handleSubmit.
		setRedirect(true);

		// Validate model using validation strategy
		getValidationStrategy().validate(this);

		// If a validation error occurred
		if (hasError())
		{
			// mark all children as invalid
			invalid();

			// let subclass handle error
			onError();
			
			// Form failed to validate
			return false;
		}
		else
		{
			// Persist FormComponents if requested
			persistFormComponentData();

			// Update model using form data
			updateFormComponentModels();

			// Model was successfully updated with valid data
			onSubmit();
			
			// Form validated
			return true;
		}
	}

