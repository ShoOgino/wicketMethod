	/**
	 * Extract key/value pairs from query string
	 * 
	 * @param queryString The query string
	 * @return A map of query string parameter keys and values
	 */
	private ValueMap analyzeQueryString(final String queryString)
	{
		final ValueMap params = new ValueMap();

		// Get a list of strings separated by the delimiter
		final StringList pairs = StringList.tokenize(queryString, "&");
	    
		// Go through each string in the list
		for (IStringIterator iterator = pairs.iterator(); iterator.hasNext();)
		{
			// Get the next key value pair
			final String pair = iterator.next();

			// separate key and value
			final int pos = pair.indexOf("=");
			if (pos < 0)
			{
			    // Parameter without value
				params.put(pair, null);
			}
			else
			{
			    final String key = pair.substring(0, pos);
			    final String value = pair.substring(pos + 1);
			    
				params.put(key, value);
			}
		}
		
		return params;
	}

