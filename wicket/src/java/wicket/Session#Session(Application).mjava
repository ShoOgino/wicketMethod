	/**
	 * Constructor.
	 *
	 * @param application
	 *            The application that this is a session of
	 */
	protected Session(final Application application)
	{
		this.application = application;
		setPageFactory(application.getSettings().getDefaultPageFactory());
		setClassResolver(application.getSettings().getDefaultClassResolver());
		this.pages = MostRecentlyUsedMap
				.newInstance(application.getSettings().getMaxSessionPages());
	}

