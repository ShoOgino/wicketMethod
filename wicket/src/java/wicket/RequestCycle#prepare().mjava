	/**
	 * Prepare the request cycle.
	 */
	private void prepare()
	{
		// Attach thread local resources for request
		threadAttach();

		// Before the beginning of the response, we need to update
		// our session based on any information that might be in
		// session attributes
		session.updateSession();

		// event callback
		onBeginRequest();
	}

