	/**
	 * 
	 * @see wicket.ajax.AjaxEventBehavior#onEvent(wicket.ajax.AjaxRequestTarget)
	 */
	protected final void onEvent(final AjaxRequestTarget target)
	{
		FormComponent fc = getFormComponent();
		fc.registerNewUserInput();
		fc.validate();
		if (fc.hasErrorMessage())
		{
			fc.invalid();
		}
		else
		{
			fc.valid();
			fc.updateModel();
			// XXX Ajax: do we need to persist values for persistent components
		}

		onUpdate(target);
	}

