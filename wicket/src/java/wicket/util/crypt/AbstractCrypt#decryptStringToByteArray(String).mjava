	/**
	 * Decrypts a String into a byte array.
	 * 
	 * @param encrypted
	 *            text to decrypt
	 * @return the decrypted text
	 */
	private final byte[] decryptStringToByteArray(final String encrypted)
	{
		final byte[] plainBytes;
		try
		{
			plainBytes = Base64.decodeBase64(encrypted.getBytes());;
			return crypt(plainBytes, Cipher.DECRYPT_MODE);
		}
		catch (GeneralSecurityException e)
		{
			throw new WicketRuntimeException("Unable to decrypt the text '" + encrypted + "'", e);
		}
	}

