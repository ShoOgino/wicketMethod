	private void resolveType()
	{
		if (!getFlag(TYPE_RESOLVED) && getType() == null)
		{
			// Set the type, but only if it's not a String (see WICKET-606).
			// Otherwise, getConvertEmptyInputStringToNull() won't work.
			Class type = getModelType(getModel());
			if (!String.class.equals(type))
			{
				setType(type);
			}
			setFlag(TYPE_RESOLVED, true);
		}
	}

