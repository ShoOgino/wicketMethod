	/**
	 * @see org.apache.wicket.markup.html.tree.ITreeState#expandAll()
	 */
	public void expandAll()
	{
		if (nodes.isEmpty() && nodesCollapsed == true)
		{
			// all nodes are already expanded, do nothing
		}
		else
		{
			// clear node set and set nodes policy as collapsed
			nodes.clear();
			nodesCollapsed = true;

			Object[] listenersCopy = listeners.toArray();
			for (int i = 0; i < listenersCopy.length; i++)
			{
				ITreeStateListener l = (ITreeStateListener)listenersCopy[i];
				l.allNodesExpanded();
			}
		}
	}

