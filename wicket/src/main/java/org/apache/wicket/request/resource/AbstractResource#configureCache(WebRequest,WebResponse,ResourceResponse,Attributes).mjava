	protected void configureCache(WebRequest request, WebResponse response, ResourceResponse data,
		Attributes attributes)
	{
		if (data.isCacheable())
		{
			// If time is set also set cache headers.
			response.setDateHeader("Expires", System.currentTimeMillis() +
				(data.getCacheDuration() * 1000L));
			response.setHeader("Cache-Control", "max-age=" + data.getCacheDuration());
		}
		else
		{
			response.setHeader("Cache-Control", "no-cache, must-revalidate");
		}
	}

