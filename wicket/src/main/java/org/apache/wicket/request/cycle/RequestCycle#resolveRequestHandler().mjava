	/**
	 * Resolves current request to a {@link IRequestHandler}.
	 * 
	 * @return RequestHandler instance
	 */
	protected IRequestHandler resolveRequestHandler()
	{
		IRequestHandler handler = requestMapper.mapRequest(request);

		if (handler != null && Application.get().getSecuritySettings().getHttpsConfig() != null)
		{
			// we need to persist the session before a redirect to https so the session lasts across
			// both http and https calls.
			Session.get().bind();

			final HttpsRequestChecker httpsRequestChecker = new HttpsRequestChecker();
			final IRequestHandler httpsHandler = httpsRequestChecker.checkSecureIncoming(handler);
			if (httpsHandler != null)
			{
				handler = httpsHandler;
			}
		}

		return handler;
	}

