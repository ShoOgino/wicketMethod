	/**
	 * Create a copy of the whole fragment tree including all sub-fragments
	 * 
	 * @return MarkupFragment
	 */
	public final MarkupFragment makeCopy()
	{
		final MarkupFragment fragment = new MarkupFragment(this.markup);
		for (MarkupElement element : this)
		{
			if (element instanceof MarkupFragment)
			{
				fragment.addMarkupElement(((MarkupFragment)element).makeCopy());
			}
			else
			{
				fragment.addMarkupElement(element);
			}
		}

		return fragment;
	}

