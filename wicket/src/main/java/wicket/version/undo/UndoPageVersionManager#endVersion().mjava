	/**
	 * @see wicket.version.IPageVersionManager#endVersion()
	 */
	public void endVersion()
	{
		// Push change list onto stack
		changeListStack.push(changeList);
		
		// If stack is overfull, remove oldest entry
		if (getVersions() > maxVersions)
		{
			expireOldestVersion();
		}

		// Make memory efficient for replication
		changeListStack.trimToSize();

		if (log.isDebugEnabled())
		{
			log.debug("Version " + currentVersionNumber + " for page " + page + " stored");
		}
	}

