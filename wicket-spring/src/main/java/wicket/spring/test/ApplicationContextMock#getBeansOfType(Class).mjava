	/**
	 * @see org.springframework.beans.factory.ListableBeanFactory#getBeansOfType(java.lang.Class)
	 */
	@SuppressWarnings("unchecked")
	public Map<String, Object> getBeansOfType(Class type) throws BeansException
	{
		Map<String, Object> found = new HashMap<String, Object>();

		Iterator<Entry<String, Object>> it = beans.entrySet().iterator();
		while (it.hasNext())
		{
			final Map.Entry<String, Object> entry = it.next();
			if (type.isAssignableFrom(entry.getValue().getClass()))
			{
				found.put(entry.getKey(), entry.getValue());
			}
		}

		return found;
	}

