	/**
	 * Ping remote Jetty server until success or maxTries.
	 * 
	 * @param commKey
	 *            auth key
	 * @param host
	 *            host to ping
	 * @param monitorPort
	 *            port admin monitor
	 * @return boolean true if started succesfully, false otherwise
	 * @throws IOException
	 *             when the socket could not be created
	 */
	public static boolean pingMonitorForServerStarted(String commKey, String host, int monitorPort)
			throws IOException
	{
		boolean jettyStarted = false;
		Socket socket = null;
		try
		{
			socket = new Socket(InetAddress.getByName(host), monitorPort);
			OutputStream out = socket.getOutputStream();
			out.write((commKey + "\r\nstatus\r\n").getBytes());
			out.flush();
			InputStream is = socket.getInputStream();
			String response = readFromInputStream(is).trim();
			if ("OK".equalsIgnoreCase(response))
			{
				jettyStarted = true;
				log.info("Jetty has been started");
			}
			else if ("STARTING".equalsIgnoreCase(response))
			{
				log.info("Jetty is starting...");
			}
			else
			{
				String msg = "received an unknown socket result: " + response;
				log.error(msg);
				return false;
			}
		}
		catch (IOException e)
		{
			throw e;
		}
		finally
		{
			if (socket != null)
			{
				socket.shutdownOutput();
				socket.close();
			}
		}
		return jettyStarted;
	}

