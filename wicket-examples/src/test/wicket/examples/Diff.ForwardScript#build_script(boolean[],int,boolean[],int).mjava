		/**
		 * Scan the tables of which lines are inserted and deleted, producing an
		 * edit script in forward order.
		 * 
		 * @param changed0
		 * @param len0
		 * @param changed1
		 * @param len1
		 * @return change
		 */
		public change build_script(final boolean[] changed0, int len0, final boolean[] changed1,
				int len1)
		{
			change script = null;
			int i0 = len0, i1 = len1;

			while (i0 >= 0 || i1 >= 0)
			{
				if (changed0[i0] || changed1[i1])
				{
					int line0 = i0, line1 = i1;

					/* Find # lines changed here in each file. */
					while (changed0[i0])
					{
						--i0;
					}
					while (changed1[i1])
					{
						--i1;
					}

					/* Record this change. */
					script = new change(i0, i1, line0 - i0, line1 - i1, script);
				}

				/* We have reached lines in the two files that match each other. */
				i0--;
				i1--;
			}

			return script;
		}

