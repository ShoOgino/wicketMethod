		/**
		 * @see Diff.ScriptBuilder#build_script(boolean[], int, boolean[], int)
		 */
		public change build_script(final boolean[] changed0, int len0, final boolean[] changed1,
				int len1)
		{
			change script = null;
			int i0 = 0, i1 = 0;
			while (i0 < len0 || i1 < len1)
			{
				if (changed0[1 + i0] || changed1[1 + i1])
				{
					int line0 = i0, line1 = i1;

					/* Find # lines changed here in each file. */
					while (changed0[1 + i0])
					{
						++i0;
					}
					while (changed1[1 + i1])
					{
						++i1;
					}

					/* Record this change. */
					script = new change(line0, line1, i0 - line0, i1 - line1, script);
				}

				/* We have reached lines in the two files that match each other. */
				i0++;
				i1++;
			}

			return script;
		}

