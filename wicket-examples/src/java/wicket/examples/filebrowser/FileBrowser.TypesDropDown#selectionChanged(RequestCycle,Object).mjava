        /**
         * @see wicket.markup.html.form.DropDownChoice#selectionChanged(wicket.RequestCycle, java.lang.Object)
         */
        public void selectionChanged(RequestCycle cycle, Object newSelection)
        {
        	FileBrowser.this.removeAll();
        	addDefaultComponents();
            String type = (String)newSelection;
            final AbstractTree tree;
            if(TYPE_NESTED.equals(type))
            {
                tree = new Tree("fileTree", currentTree.getTreeState());
            }
            else if(TYPE_FLAT.equals(type))
            {
            	tree = new FlatFileTree("fileTree", currentTree.getTreeState());
            }
            else // TYPE_NESTED_CUSTOM
            {
            	tree = new FileTree("fileTree", currentTree.getTreeState());
            }
            FileBrowser.this.add(tree);
            FileBrowser.this.currentTree = tree;
        }

