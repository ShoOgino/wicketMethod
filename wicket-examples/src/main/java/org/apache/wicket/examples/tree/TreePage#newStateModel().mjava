	private IModel<Set<Foo>> newStateModel()
	{
		return new AbstractReadOnlyModel<Set<Foo>>()
		{
			private static final long serialVersionUID = 1L;

			@Override
			public Set<Foo> getObject()
			{
				return state;
			}

			@Override
			public void detach()
			{
				((IDetachable)state).detach();
			}
		};
	}

